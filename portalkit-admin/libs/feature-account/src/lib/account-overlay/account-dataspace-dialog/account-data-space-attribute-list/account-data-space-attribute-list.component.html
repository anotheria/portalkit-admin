<ng-template #rangeTemplate let-range="range" let-total>
  {{ range[0] }}-{{ range[1] }} of {{ total }} items
</ng-template>

<nz-table
  nzSize="small"
  nzShowPagination="false"
  [nzShowTotal]="rangeTemplate"
  #editRowTable nzBordered [nzData]="attributes">
  <thead>
  <tr>
    <th nzWidth="30%">Name</th>
    <th>Value</th>
    <th>Type</th>
    <th class="th-actions">Action <button nz-button nzType="primary" nzSize="small" nzShape="circle"
                       nzTooltipTitle="Add attribute"
                       nzTooltipPlacement="right"
                       nz-tooltip
                       (click)="addRow()"><span nz-icon nzType="plus"></span></button></th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let data of editRowTable.data" class="editable-row">
    <td>
      <div class="editable-cell" [hidden]="editId === data.id" (click)="startEdit(data.id, editInput)">
        {{ data.name }}
      </div>
      <input [hidden]="editId !== data.id" #editInput type="text" nz-input [(ngModel)]="data.name" (blur)="stopEdit()" />
    </td>
    <td>{{ data.valueAsString }}</td>
    <td>{{ data.type }}</td>
    <td>
      <button
        nz-button
        nzType="link"
        nzSize="small"
        nzTooltipTitle="Edit"
        nzTooltipPlacement="top"
        nz-tooltip
      >
        <span nz-icon nzType="edit" nzTheme="outline"></span>
      </button>
      <button nz-button nzType="link" nzSize="small"
              nzTooltipTitle="Delete attribute"
              nzTooltipPlacement="top"
              nz-tooltip
              nz-popconfirm nzPopconfirmTitle="Sure to delete?" (nzOnConfirm)="deleteRow(data.id)">
        <span nz-icon nzType="delete" nzTheme="outline"></span></button>
    </td>
  </tr>
  </tbody>
</nz-table>
