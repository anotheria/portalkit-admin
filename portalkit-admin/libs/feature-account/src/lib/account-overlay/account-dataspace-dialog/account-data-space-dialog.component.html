<ng-container *nzModalTitle>
  Account data-spaces
</ng-container>

<div *ngFor="let dataSpace of dataSpaces" class="cnt-data-space">
  <pk-account-data-space-title [dataSpace]="dataSpace" (deleteDataSpace)="onDeleteDataSpace($event)"></pk-account-data-space-title>
  <pk-account-data-space-attribute-list [attributes]="dataSpace.attributes" (updateAttribute)="onUpdateAttribute(dataSpace, $event)" (deleteAttribute)="onDeleteAttribute(dataSpace, $event)"></pk-account-data-space-attribute-list>
</div>

<ng-container *nzModalFooter>
  <nz-space nzSize="small">
    <button *nzSpaceItem nz-button nzType="default" (click)="onCancel()">Cancel</button>
    <button *nzSpaceItem nz-button nzType="primary" nz-dropdown [nzDropdownMenu]="menuDataSpaceOptions"
      [nzDisabled]="!canAddDataSpace">
      <span nz-icon nzType="plus"></span> Add data-space <i nz-icon nzType="down"></i>
    </button>
  </nz-space>

  <nz-dropdown-menu #menuDataSpaceOptions="nzDropdownMenu">
    <ul nz-menu>
      <li nz-menu-item *ngFor="let dataSpace of (dataSpaceOptions$ | async)" (click)="onAddDataSpace(dataSpace)">{{dataSpace.name}}</li>
    </ul>
  </nz-dropdown-menu>

</ng-container>
